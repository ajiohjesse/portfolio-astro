---
import { Image } from 'astro:assets';
import Sparkles from './Sparkles';
import ExternalArrow from '@/icons/ExternalArrow';
import Github from '@/icons/Github';

interface Props {
  name: string;
  image: ImageMetadata;
  description: string;
  tags: string[];
  githubUrl: string;
  previewUrl: string;
}

const { name, image, description, tags, githubUrl, previewUrl } = Astro.props;
---

<div class="grid h-full rounded bg-card p-4">
  <Image
    src={image}
    alt={name}
    width={1897}
    height={1198}
    class="aspect-video w-full rounded object-cover object-top"
  />
  <Sparkles className="mt-6 w-fit" client:idle>
    <h3 class="line-clamp-[2]">{name}</h3>
  </Sparkles>

  <p class="mb-6 mt-2 line-clamp-4">{description}</p>

  <div class="flex flex-wrap gap-x-4 gap-y-2 border-b border-slate-700 pb-4">
    {tags.map(tag => <span class="text-base text-primary">{tag}</span>)}
  </div>

  <div class="mt-4 flex justify-end gap-6">
    <a href={githubUrl} target="_blank" rel="noreferrer" title="View on GitHub">
      <Github className="size-6 transition-colors hover:text-primary" />
      <span class="sr-only">View on GitHub</span>
    </a>
    <a href={previewUrl} target="_blank" rel="noreferrer" title="View Preview">
      <ExternalArrow className="size-6 transition-colors hover:text-primary" />
      <span class="sr-only">View Preview</span>
    </a>
  </div>
</div>
